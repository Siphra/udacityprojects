define(["backbone","bootstrap"],function(t){return t.View.extend({initialize:function(t){this.options=t||{},t&&!t.bind||_.bindAll(this),this.options.scrollOnly||($(this.el).find(".movie_list").off("mouseup","tr"),$(document).bind("keydown",this.navigate),this.model.bind("change:movieVanity",this.render),this.render()),this.headerBottom=t.headerBottom,this.footerTop=t.footerTop,this.lockedPosition=$("#main_movie_sidebar_content").height()*-1+40,this.startPos=$("#movies_sidebar>.panel-rt").offset().top-61,$(window).scroll(function(){this.onScroll()}.bind(this)),this.onScroll()},events:{"click .movie_list tr a":"navigateClick","touchstart .movie_list tr":"navigateClick","mouseup .movie_list tr":"navigateClick","click .showMoreItems":"showMore"},onScroll:function(){var t=$(window).scrollTop();$("#movieListColumn").css("height",$("#mainColumn").height());var e=$("#mainColumn").height()+this.startPos-$("#movies_sidebar").height(),i=0;$("#super").height()>0&&(i=$("#super").height()),t<=this.startPos+i?this.$el.removeAttr("style"):t>e+i?this.$el.css({position:"absolute",bottom:"0",top:"auto"}):this.$el.css({position:"fixed",top:this.lockedPosition})},showMore:function(t){var e=$(t.currentTarget);$("."+e.data("show"),this.$el).show(),e.hide(),e.siblings("showAll").length>0&&e.siblings("showAll").show()},navigateClick:function(t){switch(t.which){case 1:var e=$(t.currentTarget).find("a").addBack().filter("a").attr("href");e&&(t.preventDefault(),window.location.href=e)}},navigateKey:function(e){var i=$(".movie-list-selected",this.el),o=$(".movie_list tr",this.el),s=o.index(i);if(37==e.keyCode){if(s>0){var n=$(o).eq(s-1).find("a").attr("href");t.history.navigate(n,!0)}e.preventDefault()}else if(39==e.keyCode){var n=$(o).eq(s+1).find("a").attr("href");null!=n&&t.history.navigate(n,!0),e.preventDefault()}},render:function(){var t=this.el,e=this.model;$(t).find("tr").removeClass("movie-list-selected");var i=$("[href='/m/"+e.get("movieVanity")+"/']",t);i.parents("tr").addClass("movie-list-selected");var o=i.parents(".tab-pane"),s=o.attr("id");o.hasClass("active")||$(".nav-tabs a[href=#"+s+"]",t).tab("show")}})});
//# sourceMappingURL=MovieList.min.js.map